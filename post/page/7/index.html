<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
     
    <title>blog.10rane.com  | Posts</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
     <meta name="generator" content="Hugo 0.27.1" />
      
      
        <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
      

     <link href='http://tatsuyano.github.io/dist/main.css' rel='stylesheet' type="text/css" />

     
      <link href="http://tatsuyano.github.io/post/index.xml" rel="alternate" type="application/rss+xml" title="blog.10rane.com" />
      <link href="http://tatsuyano.github.io/post/index.xml" rel="feed" type="application/rss+xml" title="blog.10rane.com" />
      

      <meta property="og:title" content="Posts" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://tatsuyano.github.io/post/" />



<meta property="og:updated_time" content="2014-08-27T01:00:00&#43;09:00"/>










<meta itemprop="name" content="Posts">
<meta itemprop="description" content="">

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  
  
  <header class="cover bg-top" style="background-image: url('http://tatsuyano.github.io/images/gohugo-default-sample-hero-image.jpg');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="http://tatsuyano.github.io" class="f3 fw2 hover-white no-underline white-90 dib">
      blog.10rane.com
    </a>
    <div class="flex-l items-center">
      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="http://tatsuyano.github.io/" title="home page">
              home
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="http://tatsuyano.github.io/post" title="Archives page">
              Archives
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="http://tatsuyano.github.io/tags" title="Tags page">
              Tags
            </a>
          </li>
          
        </ul>
      
      






    </div>
  </div>
</nav>

      <div class="tc-l pv4 pv6-l ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">
          Posts
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
  <article class="pa3 pa4-ns nested-copy-line-height nested-img">
  <main class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray">
    
  </main>
    
    <section class="flex-ns flex-wrap justify-around mt5">
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 27, 2014
      </div>
    
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/27/how-to-install-and-setup-ghq/" class="link black dim">
        ghqをインストールする
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      ghqというローカルリポジトリを一元的に 管理するツールをインストールしてみました。こちらのツールを使うとgolangと同じようなディレクトリ構成で リポジトリを管理できるようになります。
また今回はこちらの記事を参考に(というかまんま同じに)、 リポジトリ(ソース)を管理するようにしてみました。
golangのディレクトリ構成 まずはGOPATHを$HOMEに設定し、以下のようなディレクトリ構成にします。
.zshrc
## golang export GOPATH=$HOME export PATH=$PATH:$GOPATH/bin  $HOME配下の構成
. ├── bin ├── pkg └── src └── github.com ├── clone ├── codegangsta ├── mattn └── peco  これでgolangのリポジトリ(ソース)は、src配下に作成されます。 また今回はghqを使ってインストール(clone)するgolang以外のリポジトリもsrc配下にインストールするよう設定します。
ghqのインストール $ go get github.com/motemen/ghq  $HOME/.gitconfigにghqを使ってインストールするディレクトリ先を指定します。
[ghq] root = ~/src  これでghqコマンドを使って、インストールできるようになります。
$ ghq get https://github.com/zsh-users/zsh-syntax-highlighting.git  srcディレクトリ配下にインストールされます。
src └── github.com └── zsh-users └── zsh-syntax-highlighting  ghqでインストールしたリポジトリの一覧を表示し、移動するスクリプト # peco-src # (http://blog.kentarok.org/entry/2014/06/03/135300) function peco-src () { local selected_dir=$(ghq list --full-path | peco --query &quot;$LBUFFER&quot;) if [ -n &quot;$selected_dir&quot; ]; then BUFFER=&quot;cd ${selected_dir}&quot; zle accept-line fi zle clear-screen } zle -N peco-src bindkey '^S' peco-src  まとめ 今までの自己流から、ずいぶん分かりやすくなりました。
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 21, 2014
      </div>
    
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/21/select-host-for-peco/" class="link black dim">
        pecoで接続先hostを選ぶスクリプトを書いた
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       pecoを使って、sshするhostを選択するスクリプトを書きました。
.oh-my-zsh/custom/peco.zsh
function peco-select-host () { host=$(grep -iE '^host\s+(\w|\d)+' ~/.ssh/config | awk '{print $2}' | peco) if [ -n &quot;$host&quot; ]; then ssh $host fi } alias hs=peco-select-host  元々ある~/.ssh/configをgrepしてhost名を渡してるだけ。
1、2文字のキーバインド(ストローク？)がなかったので、aliasでhsにしました。
$ hs QUERY&gt; clgit support test01 ghost #&lt;-接続先のhostを選ぶ  peco楽しいですね。お疲れ様でした。
関連する記事  流行りのpecoをcentosにインストールしました goパッケージ(peco)のバージョンを上げる  
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 20, 2014
      </div>
    
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/20/install-cask/" class="link black dim">
        Caskをインストールする
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      やろうやろうと思ってやっていなかったCaskを導入しようと思います。 今ままでは主にel-getを中心に使っていたのですが、 どのパッケージをインストールしたかとか、環境の切り替えが少し面倒でした。
今回導入するCaskはrubyのBundlerチックに管理してくれるため、上記の問題を解決してくれます。
Caskのインストールにはpythonが必要です。 インストールされていない場合、anyenvでpythonをインストールしてください
Emacs 24のインストール Caskは Emacs 24以上が必須です。 今回うっかりyum経由でEmacsをインストールしていたため、バージョンが23.1.1.だったので いったん削除し、再度バージョン24以上のEmacsをインストールします。
yumでインストールしたEmacs 23を削除
# yum list installed | grep emacs # yum -y remove emacs.x86_64 emacs-common.x86_64  make &amp; install
# yum install gcc make ncurses-devel # wget http://ftp.jaist.ac.jp/pub/GNU/emacs/emacs-24.3.tar.gz # tar zxvfp emacs-24.3.tar.gz # cd emacs-24.3 # ./configure -without-x -without-selinux # make # make install  バージョンの確認
$ emacs --version GNU Emacs 24.3.1 Copyright (C) 2013 Free Software Foundation, Inc.
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 19, 2014
      </div>
    
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/19/install-anyenv/" class="link black dim">
        anyenvをインストールする
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      以前導入したanyenvのインストール方法を忘れないようメモしておきます。
anyenvは ruby、perl、python、nodejs、php(phpenv) のバージョン管理を一元化してくれるツールです。これでhome直下がずいぶんスッキリ。素敵です。
インストール ダウンロード
$ git clone https://github.com/riywo/anyenv ~/.anyenv  $HOME/.zshrc
$ echo 'export PATH=&quot;$HOME/.anyenv/bin:$PATH&quot;' &gt;&gt; ~/.zshrc $ echo 'eval &quot;$(anyenv init - zsh)&quot;' &gt;&gt; ~/.zshrc  私はoh-my-zshを使っているので、実際は~/.zshrcではなく、~/.oh-my-zsh/custom/main.zshに設定しています。
シェルを再実行し、anyenvの設定を反映させます。
source $HOME/.zshrc でも結構です。
$ exec $SHELL -l $ which anyenv ~/.anyenv/bin/anyenv   anyenvで開発環境を整える completions/plenv.bash:16: command not found: completeの対処法  rubyのインストール とりあえずanyenv経由でrubyをインストールします。 rubyをインストールするには、事前にOpenSSL系のライブラリが必要なのでインストールしておきます。
また別記事で紹介しているrobeを使うには、read-lineが必要なので、入れておきます。
$ sudo yum -y install openssl-devel $ sudo yum -y install readline-devel   CentOSに rbenv 経路で Ruby 2.
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 19, 2014
      </div>
    
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/19/install-zsh5/" class="link black dim">
        zshをバージョン5 に上げる
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      yumでインストールするとバージョンが4.3だったので、makeしてインストールしました。
まずはmakeするために必要なライブラリのインストール
# yum -y install gcc ncurses-devel  ダウンロード
# wget http://www.zsh.org/pub/zsh-5.0.5.tar.bz2 # tar jxvf zsh-5.0.5.tar.bz2  make &amp; install
# cd zsh-5.0.5 # ./configure # make # make install  インストールが正常に終わったら、zshを登録します。
shellの登録 &amp; 変更
# echo /usr/local/bin/zsh &gt;&gt; /etc/shells # chsh  /usr/local/bin/zsh以外にインストールされている可能性があるので、確認してください
$ zsh --version zsh 5.0.5 (x86_64-unknown-linux-gnu)  ログイン時にzshが起動するようbashrcに追加する。
~/.bashrc
# Use zsh if [ -f /usr/local/bin/zsh ]; then exec /usr/local/bin/zsh fi  一度ログアウトし、ログイン後shellがzshに切り替わっていれば完了です。
$echo $0 /usr/local/bin/zsh   linux/zsh 現在の shell を shellscript の中から確認する  お疲れ様でした。
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 14, 2014
      </div>
    
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/14/take-over-the-environment/" class="link black dim">
        sudoでroot昇格した時に環境変数を引き継ぐ
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      知らなかった。
$ sudo -E bash   sudoで環境変数を引き継ぎたい  
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 14, 2014
      </div>
    
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/14/updating-the-package-go/" class="link black dim">
        goパッケージ(peco)のバージョンを上げる
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       --prompt オプションを使いたかったので、バージョンをv0.1-&gt;v0.2.4にあげました。
GOROOTとGOPATHの設定が必要なので、環境変数が引き継いだ状態でroot昇格します。
$ sudo -E bash # printenv |grep GO GOROOT=/usr/local/go GOPATH=/usr/local/mygo  go get -uでアップデートされます。
# go get -u github.com/peco/peco/cmd/peco  バージョンが上がりました。
# peco --verision peco: v0.2.4   How does Go update third-party packages?  関連する記事  流行りのpecoをcentosにインストールしました  
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 10, 2014
      </div>
    
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/10/get-access-ip-installed-google-analytics-to-ghost/" class="link black dim">
        GhostにGoogle Analyticsに設置しアクセス元IPを取得する
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      アクセス元IPを取得するには、Google Analyticsのデフォルト設定ではできません。 IPを取得、集計するには
 Google Analyticsにdimensionを設定し、アクセス元IPを集計できるようにする PHPを使って、blogの参照時のIPを取得する 取得したIPをdimensionに渡す 集計結果をGoogle Analyticsで参照できるよう、カスタムレポートを作成する  という手順で対応します。
この記事で紹介するシステム構成  CentOS6 Ghost Nginx  何はともあれ、まずはGoogleAnalyticsを導入してください。
 初心者必見！【Google Analytics(アナリティクス)】の導入と使い方 How to Add Google Analytics to Ghost  Google Analyticsにdimensionを設定し、アクセス元IPを集計できるようにする Analyticsが提供していない値(今回でいうところのアクセス元IP)を集計するには、dimension(変数)を設定し、その変数に値を代入することで、集計することができるようになります。
アナリティクス設定 &gt; カスタム定義 &gt; カスタム ディメンション 新しいカスタム ディメンション &gt; カスタム ディメンションを編集 &gt; 保存 保存するとdimension1という変数がAnalyticsに設定されます。
PHPを使って、blogが参照された時のIPを取得する このblogにはGhostを動かすための最小の設定しかしていなかったので、まずはNginx上でPHPが動く環境を整えます。
# yum -y install php php-fpm  次に、事前に用意したdomainをバーチャルホスト(VH)に割り振り、そのVHに対してPHPが動くように設定します。
/etc/nginx/conf.d/php.conf
```` server { listen 80; server_name ga.10rane.com;
location / { root /var/www/html; index index.
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 6, 2014
      </div>
    
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/06/install-ricky-powerline-for-mac/" class="link black dim">
        Ricky for powerlineをmacにインストールする
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       agnosterはpowerline.otfにある依存文字を使うことを前提しているので、 macにpowerline系のフォントをインストールします。
少しややこしいのですが、元々powerlineというフォントはvimで使う用？だったので ググるとよくvim-powerlineとかがヒットしますが同じもののようです。
また、既存のフォントをpowerline化(既存のフォントに依存文字を使えるようにする)することもできます。
今回は、今使っているRictyをそのまま使いたかったので、 新たにRicty for powerlineというフォントをbrewでインストールしてみました。
brew update brew uninstall ricty brew tap sanemat/font brew install --vim-powerline ricty cp -f /usr/local/Cellar/ricty/3.2.3/share/fonts/Ricty*.ttf ~/Library/Fonts/   homebrewを使ってiTerm2でRicty for powerline設定した  インストールが完了したら、iTermのフォントの設定を変更して、iTermを再起動してください。
お疲れ様でした。
関連する記事  oh-my-zshをインストールする  
    </div>
  </div>

        </div>
      
        <div class="relative w-100 w-30-l mb4 bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        August 6, 2014
      </div>
    
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/06/install-oh-my-zsh/" class="link black dim">
        oh-my-zshをインストールする
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      今まで設定が面倒で試していなかったoh-my-zshをインストールしてみました。下記の方法で、mac、centosともに対応可能です。
oh-my-zshをインストールする すでにzshはインストールされているものとします。
また、今ある$HOME/.zshrcはインストール時に上書きされてしまうので事前に退避してください。
インストールするとHOME直下に.oh-my-zshというディレクトリが作成され.zshrcが上書きされます。
インストール
curl -L http://install.ohmyz.sh | sh  インストールが終わったので、いったんsorce .zshrcして、oh-my-zshを使ってみます。promptが変更されたはずです。
oh-my-zshは、themeとplugin(複数選択可)という単位でzshを管理しています。 初期設定はthemeがrobbyrussell、pluginがgitです。
oh-my-zshのディレクトリ構成
. ├── custom ... 自分が設定したzshrcを入れる │ └── plugins ... 自分で作ったpluginを入れる ├── lib ├── log ... zsh_historyなどを入れる ├── plugins ... gitなどソフトウェア単位の設定ファイルが入っている ├── templates ... zshrcのテンプレートファイルが入っている ├── themes ... promptなど見た目の設定ファイルが入っている └── tools  customに自分の設定ファイルを入れる 整理されていませんが、とりあえずcustomディレクトリに入れてみます。
因みに拡張子は.zshで、ファイル名は自由です。
main.zsh
export LC_ALL=en_US.UTF-8 export LANG=ja_JP.UTF-8 export EDITOR=emacs bindkey -e # emacsライクなキーバインド autoload -U compinit # 強力な補完機能 compinit -u # このあたりを使わないとzsh使ってる意味なし setopt autopushd # cdの履歴を表示 setopt pushd_ignore_dups # 同ディレクトリを履歴に追加しない setopt auto_cd # 自動的にディレクトリ移動 ## 履歴 HISTFILE=~/.
    </div>
  </div>

        </div>
      
    </section>
    

<ul class="pagination">
    
    <li>
        <a href="http://tatsuyano.github.io/post/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li
    >
    <a href="http://tatsuyano.github.io/post/page/6/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="http://tatsuyano.github.io/post/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="http://tatsuyano.github.io/post/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="http://tatsuyano.github.io/post/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="http://tatsuyano.github.io/post/page/6/">6</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    class="active"><a href="http://tatsuyano.github.io/post/page/7/">7</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="http://tatsuyano.github.io/post/page/8/">8</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="http://tatsuyano.github.io/post/page/15/">15</a></li>
    
    
    <li
    >
    <a href="http://tatsuyano.github.io/post/page/8/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li>
        <a href="http://tatsuyano.github.io/post/page/15/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

  </article>

    </main>
    <footer class="bg-near-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://tatsuyano.github.io" >
    &copy; 2017 blog.10rane.com
  </a>
  






  </div>
</footer>

    <script src="http://tatsuyano.github.io/dist/app.bundle.js" async></script>

  </body>
</html>
