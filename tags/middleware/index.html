<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
     
    <title>blog.10rane.com  | Middleware</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
     <meta name="generator" content="Hugo 0.27.1" />
      
      
        <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
      

     <link href='http://tatsuyano.github.io/dist/main.css' rel='stylesheet' type="text/css" />

     
      <link href="http://tatsuyano.github.io/tags/middleware/index.xml" rel="alternate" type="application/rss+xml" title="blog.10rane.com" />
      <link href="http://tatsuyano.github.io/tags/middleware/index.xml" rel="feed" type="application/rss+xml" title="blog.10rane.com" />
      

      <meta property="og:title" content="Middleware" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://tatsuyano.github.io/tags/middleware/" />



<meta property="og:updated_time" content="2015-08-28T19:00:00&#43;09:00"/>










<meta itemprop="name" content="Middleware">
<meta itemprop="description" content="">

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Middleware"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  
  
  <header class="cover bg-top" style="background-image: url('http://tatsuyano.github.io/images/gohugo-default-sample-hero-image.jpg');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="http://tatsuyano.github.io" class="f3 fw2 hover-white no-underline white-90 dib">
      blog.10rane.com
    </a>
    <div class="flex-l items-center">
      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="http://tatsuyano.github.io/" title="home page">
              home
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="http://tatsuyano.github.io/post" title="Archives page">
              Archives
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="http://tatsuyano.github.io/tags" title="Tags page">
              Tags
            </a>
          </li>
          
        </ul>
      
      






    </div>
  </div>
</nav>

      <div class="tc-l pv4 pv6-l ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">
          Middleware
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
  <article class="cf pa3 pa4-m pa4-l">
    <div class="measure-wide-l center f4 lh-copy nested-copy-line-height nested-links nested-img mid-gray">
      <p>Below you will find pages that utilize the taxonomy term “Middleware”</p>
    </div>
  </article>
  <div class="mw8 center">
    
    <section class="flex-ns flex-wrap justify-around mt5">
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2015/08/28/errors-out-when-using-to-package-the-box/" class="link black dim">
        package化したboxを使うときによく出るエラー
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      vagrant packageコマンドでパッケージ化したboxで仮想環境を作成(vagrant up)するさいによく出るエラーをまとめました。
An error occurred while downloading the remote file(モートファイルのダウンロード中にエラーが発生しました) An error occurred while downloading the remote file. The error message, if any, is reproduced below. Please fix this error and try again. Couldn't open file xxxxxxxxxxxx  解決方法
パッケージ(コピー)元のboxと同じ設定のbox(パッケージ化したboxで生成した仮想環境)がバッティングしている？ パッケージ元の仮想環境をvagrant destroyして削除する。 Authentication failure. Retrying&hellip;(認証の失敗。再試行)  default: SSH username: vagrant default: SSH auth method: private key default: Warning: Connection timeout. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/10/20/how-to-install-and-setup-fluentd/" class="link black dim">
        fluentdをインストールする
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      blogのアクセス数がほんの少し増えてきたので、fluentd(フルーエントディ) をインストールしてみます。 今回、fluentd をインストールする環境は、以下になります。
 AmazonLinux nginx ruby 2.1.0 (anyenv)  fluentd を導入すると何ができるか fluentd はログなどを取得し、取得したデータを整形して elasticsearch + kibana などに渡すことで、データを簡単に可視化することができます。
fluentdをgem経由でインストールする まずは公式どおりにgemでインストールしてみます。
注意
こちらの記事を参考に、yum経由でインストールも行いました。
$ gem install fluentd --no-ri --no-rdoc  メモリが割り当てられない？というエラーが出ました。 ERROR: Error installing fluentd: ERROR: Failed to build gem native extension. $HOME/.anyenv/envs/rbenv/versions/2.1.0/bin/ruby extconf.rb Cannot allocate memory - $HOME/.anyenv/envs/rbenv/versions/2.1.0/bin/ruby extconf.rb 2&1 Gem files will remain installed in $HOME/.anyenv/envs/rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/yajl-ruby-1.2.1 for inspection. Results logged to $HOME/.anyenv/envs/rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/extensions/x86_64-linux/2.1.0-static/yajl-ruby-1.2.1/gem_make.out  試しに`aws-sdk`をインストールしてから、再度インストールしてみたらうまくいきました。 $ gem install aws-sdk $ gem install fluentd --no-ri --no-rdoc $ source $HOME/.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/09/09/how-to-install-and-setup-postfix/" class="link black dim">
        Postfixをインストールする
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      仕事ではじめて Postfix を使ったので、インストール方法などを残しておきます。
Postfixのインストール まず Postfix のインストール前に Sendmail がインストールされている場合は止めておきます。
$ sudo chkconfig sendmail off $ sudo /etc/init.d/sendmail stop $ sudo yum -y install postfix $ sudo chkconfig --add postfix $ sudo chkconfig on postfix $ sudo /etc/init.d/postfix start  メールサーバー(MTA)を postfix に切り替え
$ sudo update-alternatives --set mta /usr/sbin/sendmail.postfix  
postfix の設定 設定は主に/etc/postfix/配下の3ファイル
/etc/postfix/main.cf (設定全般) # mydomainを設定しない場合、メールのホスト名としても使われる(と思われる) myhostname = hogehoge.net # メールをローカルで受信するドメイン名を設定 mydestination = $myhostname # 全てのメールを受け取る inet_interfaces = all # ipv6、ipv4 両方許可する inet_protocols = all # コメントアウト #mynetworks_style = host # LAN内のネットワークを指定 mynetworks = 127.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/07/29/install-daemontools/" class="link black dim">
        daemontoolsのインストール
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      ダウンロード
# mkdir -p /package # chmod 1755 /package # cd /package # wget http://cr.yp.to/daemontools/daemontools-0.76.tar.gz # tar zxvf daemontools-0.76.tar.gz  インストールスクリプトの修正
/package/admin/daemontools-0.76/src/conf-cc
gcc -O2 -Wimplicit -Wunused -Wcomment -Wchar-subscripts -Wuninitialized -Wshadow -Wcast-qual -Wcast-align -Wwrite-strings #&lt;- 削除 gcc -O2 --include /usr/include/errno.h #&lt;-書き換え  インストール
# cd /admin/daemontools-0.76 # /package/install  daemontools本体の起動設定 /etc/init/svscan.conf
start on runlevel [12345] respawn exec /usr/local/bin/svscanboot   CentOS6.4にmemcachedを入れた。 memcachedの運用と互換アプリケーション 私家版 daemontools FAQ) 3. トラブルシューティング
  daemontoolsのコマンド ややこしいのですが、実際のコマンドは、/package/admin/daemontools/commandにあります。
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/07/29/install-memcached/" class="link black dim">
        memcachedのインストール
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      まずはyumでmemcachedのインストール
# yum install -y memcached memcached-devel  libmemcachedのインストール
 最新のソース  # cd /usr/local/src # wget https://launchpad.net/libmemcached/1.0/1.0.18/+download/libmemcached-1.0.18.tar.gz # tar xvzf libmemcached-1.0.18.tar.gz # ./configure # make # make install  /etc/sysconfig/memcached
PORT=&quot;11211&quot; USER=&quot;apache&quot; MAXCONN=&quot;1024&quot; CACHESIZE=&quot;64&quot; OPTIONS=&quot;&quot;  PHPで使うために以下の設定 # yum install -y php-pecl-memcached  PHP Extensionのインストール
# git clone https://github.com/php-memcached-dev/php-memcached.git # cd php-memcached # phpize # ./configure --with-libmemcached-dir=/usr/local # make # make install  PHPで設定が有効になっているか確認
$ php -i | grep memcached memcached memcached support =&gt; enabled libmemcached version =&gt; 1.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/07/28/use-the-redis-in-fuelphp/" class="link black dim">
        fuelphpでredisを使う
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      まずはredisのインストールから
$ yum --enablerepo=epel install -y redis $ /etc/init.d/redis start redis-server を起動中: [ OK ]  confの場所
$ emacs /etc/redis.conf  redisが正常にインストールされているか確認
$ redis-cli redis 127.0.0.1:6379&gt; set name 'hoge' OK redis 127.0.0.1:6379&gt; get name &quot;hoge&quot;  保存されているKEYを表示
$ redis-cli redis 127.0.0.1:6379&gt; KEYS * 1) &quot;particles&quot; 2) &quot;name&quot; redis 127.0.0.1:6379&gt;  fuelphpの設定 config/db.php
'redis' =&gt; array( 'default' =&gt; array( 'hostname' =&gt; '127.0.0.1', 'port' =&gt; 6379 ) ),  config.session.php
'driver' =&gt; 'redis', .
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2013/06/10/handlersocket-install/" class="link black dim">
        HandlerSocketをインストールする
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      インストールする内容  rpm版 MySQL 5.1.68 HandlerSocket-Plugin-for-MySQL 最新版(2013/06/05) php-handlersocket 0.3.1  作業の流れ  すでにyumでインストールしてあるMySQLの削除 MySQL(rpm版)のインストール Handler Socketのインストール php-handlersocketのインストール  すでにyumでインストールしてあるMySQLの削除 前にテスト導入で成功したバージョンにあわせるため、yumでインストールしたMySQLを削除
インストール済みのMySQLを確認 yum list installed | grep mysql mysql.x86_64 5.1.69-1.el6_4 @updates mysql-libs.x86_64 5.1.69-1.el6_4 @updates mysql-server.x86_64 5.1.69-1.el6_4 @updates php-mysql.x86_64 5.3.3-22.el6 @base  chkconfigからmysqldをoff chkconfig --list mysqld mysqld 0:off 1:off 2:on 3:on 4:on 5:on 6:off chkconfig mysqld off  yumでインストールしたMySQLを削除 yum -y remove mysql mysql-server mysql-libs  MySQL(rpm版)のインストール 過去にインストールしたmysqlのバージョンは5.1.66 だったが見つからなかったので、
近いバージョンの5.1.68をインストールすることにした。
インストール先のディレクトリ作成 mkdir -p /usr/src/redhat/RPMS/x86_64/ cd /usr/src/redhat/ mkdir BUILD SOURCES SPECS SRPMS  rpmファイルのダウンロード cd /usr/src/redhat/RPMS/x86_64/ wget http://download.
    </div>
  </div>
</div>

        </div>
      
    </section>
  </div>

    </main>
    <footer class="bg-near-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://tatsuyano.github.io" >
    &copy; 2017 blog.10rane.com
  </a>
  






  </div>
</footer>

    <script src="http://tatsuyano.github.io/dist/app.bundle.js" async></script>

  </body>
</html>
