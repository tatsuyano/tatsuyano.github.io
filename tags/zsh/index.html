<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
     
    <title>blog.10rane.com  | Zsh</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
     <meta name="generator" content="Hugo 0.27.1" />
      
      
        <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
      

     <link href='http://tatsuyano.github.io/dist/main.css' rel='stylesheet' type="text/css" />

     
      <link href="http://tatsuyano.github.io/tags/zsh/index.xml" rel="alternate" type="application/rss+xml" title="blog.10rane.com" />
      <link href="http://tatsuyano.github.io/tags/zsh/index.xml" rel="feed" type="application/rss+xml" title="blog.10rane.com" />
      

      <meta property="og:title" content="Zsh" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://tatsuyano.github.io/tags/zsh/" />



<meta property="og:updated_time" content="2014-08-21T01:00:00&#43;09:00"/>










<meta itemprop="name" content="Zsh">
<meta itemprop="description" content="">

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Zsh"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  
  
  <header class="cover bg-top" style="background-image: url('http://tatsuyano.github.io/images/gohugo-default-sample-hero-image.jpg');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="http://tatsuyano.github.io" class="f3 fw2 hover-white no-underline white-90 dib">
      blog.10rane.com
    </a>
    <div class="flex-l items-center">
      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="http://tatsuyano.github.io/" title="home page">
              home
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="http://tatsuyano.github.io/post" title="Archives page">
              Archives
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="http://tatsuyano.github.io/tags" title="Tags page">
              Tags
            </a>
          </li>
          
        </ul>
      
      






    </div>
  </div>
</nav>

      <div class="tc-l pv4 pv6-l ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">
          Zsh
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
  <article class="cf pa3 pa4-m pa4-l">
    <div class="measure-wide-l center f4 lh-copy nested-copy-line-height nested-links nested-img mid-gray">
      <p>Below you will find pages that utilize the taxonomy term “Zsh”</p>
    </div>
  </article>
  <div class="mw8 center">
    
    <section class="flex-ns flex-wrap justify-around mt5">
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/21/select-host-for-peco/" class="link black dim">
        pecoで接続先hostを選ぶスクリプトを書いた
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       pecoを使って、sshするhostを選択するスクリプトを書きました。
.oh-my-zsh/custom/peco.zsh
function peco-select-host () { host=$(grep -iE '^host\s+(\w|\d)+' ~/.ssh/config | awk '{print $2}' | peco) if [ -n &quot;$host&quot; ]; then ssh $host fi } alias hs=peco-select-host  元々ある~/.ssh/configをgrepしてhost名を渡してるだけ。
1、2文字のキーバインド(ストローク？)がなかったので、aliasでhsにしました。
$ hs QUERY&gt; clgit support test01 ghost #&lt;-接続先のhostを選ぶ  peco楽しいですね。お疲れ様でした。
関連する記事  流行りのpecoをcentosにインストールしました goパッケージ(peco)のバージョンを上げる  
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/19/install-zsh5/" class="link black dim">
        zshをバージョン5 に上げる
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      yumでインストールするとバージョンが4.3だったので、makeしてインストールしました。
まずはmakeするために必要なライブラリのインストール
# yum -y install gcc ncurses-devel  ダウンロード
# wget http://www.zsh.org/pub/zsh-5.0.5.tar.bz2 # tar jxvf zsh-5.0.5.tar.bz2  make &amp; install
# cd zsh-5.0.5 # ./configure # make # make install  インストールが正常に終わったら、zshを登録します。
shellの登録 &amp; 変更
# echo /usr/local/bin/zsh &gt;&gt; /etc/shells # chsh  /usr/local/bin/zsh以外にインストールされている可能性があるので、確認してください
$ zsh --version zsh 5.0.5 (x86_64-unknown-linux-gnu)  ログイン時にzshが起動するようbashrcに追加する。
~/.bashrc
# Use zsh if [ -f /usr/local/bin/zsh ]; then exec /usr/local/bin/zsh fi  一度ログアウトし、ログイン後shellがzshに切り替わっていれば完了です。
$echo $0 /usr/local/bin/zsh   linux/zsh 現在の shell を shellscript の中から確認する  お疲れ様でした。
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/06/install-ricky-powerline-for-mac/" class="link black dim">
        Ricky for powerlineをmacにインストールする
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       agnosterはpowerline.otfにある依存文字を使うことを前提しているので、 macにpowerline系のフォントをインストールします。
少しややこしいのですが、元々powerlineというフォントはvimで使う用？だったので ググるとよくvim-powerlineとかがヒットしますが同じもののようです。
また、既存のフォントをpowerline化(既存のフォントに依存文字を使えるようにする)することもできます。
今回は、今使っているRictyをそのまま使いたかったので、 新たにRicty for powerlineというフォントをbrewでインストールしてみました。
brew update brew uninstall ricty brew tap sanemat/font brew install --vim-powerline ricty cp -f /usr/local/Cellar/ricty/3.2.3/share/fonts/Ricty*.ttf ~/Library/Fonts/   homebrewを使ってiTerm2でRicty for powerline設定した  インストールが完了したら、iTermのフォントの設定を変更して、iTermを再起動してください。
お疲れ様でした。
関連する記事  oh-my-zshをインストールする  
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/06/install-oh-my-zsh/" class="link black dim">
        oh-my-zshをインストールする
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      今まで設定が面倒で試していなかったoh-my-zshをインストールしてみました。下記の方法で、mac、centosともに対応可能です。
oh-my-zshをインストールする すでにzshはインストールされているものとします。
また、今ある$HOME/.zshrcはインストール時に上書きされてしまうので事前に退避してください。
インストールするとHOME直下に.oh-my-zshというディレクトリが作成され.zshrcが上書きされます。
インストール
curl -L http://install.ohmyz.sh | sh  インストールが終わったので、いったんsorce .zshrcして、oh-my-zshを使ってみます。promptが変更されたはずです。
oh-my-zshは、themeとplugin(複数選択可)という単位でzshを管理しています。 初期設定はthemeがrobbyrussell、pluginがgitです。
oh-my-zshのディレクトリ構成
. ├── custom ... 自分が設定したzshrcを入れる │ └── plugins ... 自分で作ったpluginを入れる ├── lib ├── log ... zsh_historyなどを入れる ├── plugins ... gitなどソフトウェア単位の設定ファイルが入っている ├── templates ... zshrcのテンプレートファイルが入っている ├── themes ... promptなど見た目の設定ファイルが入っている └── tools  customに自分の設定ファイルを入れる 整理されていませんが、とりあえずcustomディレクトリに入れてみます。
因みに拡張子は.zshで、ファイル名は自由です。
main.zsh
export LC_ALL=en_US.UTF-8 export LANG=ja_JP.UTF-8 export EDITOR=emacs bindkey -e # emacsライクなキーバインド autoload -U compinit # 強力な補完機能 compinit -u # このあたりを使わないとzsh使ってる意味なし setopt autopushd # cdの履歴を表示 setopt pushd_ignore_dups # 同ディレクトリを履歴に追加しない setopt auto_cd # 自動的にディレクトリ移動 ## 履歴 HISTFILE=~/.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/04/autojump-to-z/" class="link black dim">
        autojumpからzに乗り換えた
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       autojumpを今まで使っていたが、zshrcを編集していたらエラーを吐くようになったので、 このタイミングでzに乗り換えてみた
インストール $ cd .dotfile git clone https://github.com/rupa/z.git .zsh  .zshrc
_Z_CMD=j source ~/.dotfile/.zsh/z.sh precmd() { _z --add &quot;$(pwd -P)&quot; }  キーバインドはjに変更。 ホーム直下に.zというファイルが作成され、そのファイルに履歴が溜まっていく
 z AUTOJUMPよりZ.SHのほうがPYTHONなしで動いて良いよ  
    </div>
  </div>
</div>

        </div>
      
    </section>
  </div>

    </main>
    <footer class="bg-near-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://tatsuyano.github.io" >
    &copy; 2017 blog.10rane.com
  </a>
  






  </div>
</footer>

    <script src="http://tatsuyano.github.io/dist/app.bundle.js" async></script>

  </body>
</html>
