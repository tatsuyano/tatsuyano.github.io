<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
     
    <title>blog.10rane.com  | Blog</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
     <meta name="generator" content="Hugo 0.27.1" />
      
      
        <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
      

     <link href='http://tatsuyano.github.io/dist/main.css' rel='stylesheet' type="text/css" />

     
      <link href="http://tatsuyano.github.io/tags/blog/index.xml" rel="alternate" type="application/rss+xml" title="blog.10rane.com" />
      <link href="http://tatsuyano.github.io/tags/blog/index.xml" rel="feed" type="application/rss+xml" title="blog.10rane.com" />
      

      <meta property="og:title" content="Blog" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://tatsuyano.github.io/tags/blog/" />



<meta property="og:updated_time" content="2015-07-26T21:15:01&#43;09:00"/>










<meta itemprop="name" content="Blog">
<meta itemprop="description" content="">

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Blog"/>
<meta name="twitter:description" content=""/>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  
  
  <header class="cover bg-top" style="background-image: url('http://tatsuyano.github.io/images/gohugo-default-sample-hero-image.jpg');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="http://tatsuyano.github.io" class="f3 fw2 hover-white no-underline white-90 dib">
      blog.10rane.com
    </a>
    <div class="flex-l items-center">
      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="http://tatsuyano.github.io/" title="home page">
              home
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="http://tatsuyano.github.io/post" title="Archives page">
              Archives
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="http://tatsuyano.github.io/tags" title="Tags page">
              Tags
            </a>
          </li>
          
        </ul>
      
      






    </div>
  </div>
</nav>

      <div class="tc-l pv4 pv6-l ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">
          Blog
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
  <article class="cf pa3 pa4-m pa4-l">
    <div class="measure-wide-l center f4 lh-copy nested-copy-line-height nested-links nested-img mid-gray">
      <p>Below you will find pages that utilize the taxonomy term “Blog”</p>
    </div>
  </article>
  <div class="mw8 center">
    
    <section class="flex-ns flex-wrap justify-around mt5">
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2015/07/26/replacing-sitemap-of-hugo/" class="link black dim">
        Hugoに独自ドメインを適応したので、sitemap.xmlを置換する
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Hugoに独自ドメインを適応したところ、自動生成されるsitemap.xmlが
Github pagesのURLで生成されていたので、deploy.shにsedコマンドを追加した。
sedコマンドで上書き置換(sed -i)したら、バックアップファイルが自動で生成
されるを止めるのはどうしたらいいのだろうか。。
 
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2015/07/25/switch-hugo/" class="link black dim">
        ブログをGhostからHugoに移行した
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       今までaws上でブログ(Ghost)を運用していたが、無料期間が終わったら月2000円
ちょっとかかったので、またGithub Pages上にブログを移行させた。
以前はGithub PagesでOctopressを使っていたが、最近はHugoというのが流行っているらしいので使ってみた。
記事が思いの外多かったので、エクスポート用のコードをrubyで書いた。
コードを書くのに思ったより時間がかかったが、久々にrubyを使って楽しかった。
 参考サイト  HugoとCircleCIでGitHub PagesにBlogを公開してみたら超簡単だった Hugoを使ってみたときのメモ Hugo + Github Pages + Wercker CI = ¥0（無料）でコマンド 1 発  
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/09/10/upgrade-to-v05-ghost/" class="link black dim">
        Ghostをv0.5にアップグレードする
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      運用中のGhost(v0.4)にGhost(v0.5)のファイルを一部コピーするだけで、アップグレードすることができます。
以下のような構成で話をすすめます。
$ tree $HOME/app -d -L 1 $HOME/app ├── ghost #&lt;- 運用中のGhost(v0.4) └── ghost.v5 #&lt;- コピー元のGhost(v0.5)  Ghost v0.5のダウンロード $ cd app $ curl -L https://ghost.org/zip/ghost-latest.zip -o ghost.zip $ unzip -uo ghost.zip -d ghost.v5  Ghost v0.5から一部ファイルをコピーする コピーする前にforeverを止めてください。
$ cd $HOME/app/ghost $ NODE_ENV=production forever stop index.js  　$ cd ../ghost.v5/ $ cp -a *.md *.js *.json ../ghost/ $ cp -R core ../ghost $ cp -R content/themes/casper ../ghost/content/themes  nodeパッケージを再インストール
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/09/09/how-to-install-and-setup-ghost-on-amazon-linux/" class="link black dim">
        Amazon LinuxにGhostをインストールする
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      新たにt2.microのインスタンスを立ち上げたので、Ghost を新規でインストールしようと思います。
Node.js のインストール anyenvを使って、0.10.0以上のNode.js をインストールしてください。
$ which node HOME/.anyenv/envs/ndenv/shims/node $ which npm $HOME/.anyenv/envs/ndenv/shims/npm $ node --version v0.10.26   anyenvをインストールする  nginx のインストール yumでのバージョンは1.4.7と少し古いですが、面倒なのでインストール
$ sudo yum -y install nginx $ /usr/sbin/nginx -v nginx version: nginx/1.4.7 $ sudo chkconfig nginx on $ sudo chkconfig --list | grep nginx nginx 0:off 1:off 2:on 3:on 4:on 5:on 6:off  念のため起動テスト
$ sudo /etc/init.d/nginx start  confの設定 特定のドメインのみを停止(切り離)したりするために、 設定ファイルのリンクを貼ったディレクトリをincludeします。
sites-availableにはドメインごとの設定ファイル、 sites-enabledには設定ファイルのリンクを貼ります。
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/08/10/get-access-ip-installed-google-analytics-to-ghost/" class="link black dim">
        GhostにGoogle Analyticsに設置しアクセス元IPを取得する
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      アクセス元IPを取得するには、Google Analyticsのデフォルト設定ではできません。 IPを取得、集計するには
 Google Analyticsにdimensionを設定し、アクセス元IPを集計できるようにする PHPを使って、blogの参照時のIPを取得する 取得したIPをdimensionに渡す 集計結果をGoogle Analyticsで参照できるよう、カスタムレポートを作成する  という手順で対応します。
この記事で紹介するシステム構成  CentOS6 Ghost Nginx  何はともあれ、まずはGoogleAnalyticsを導入してください。
 初心者必見！【Google Analytics(アナリティクス)】の導入と使い方 How to Add Google Analytics to Ghost  Google Analyticsにdimensionを設定し、アクセス元IPを集計できるようにする Analyticsが提供していない値(今回でいうところのアクセス元IP)を集計するには、dimension(変数)を設定し、その変数に値を代入することで、集計することができるようになります。
アナリティクス設定 &gt; カスタム定義 &gt; カスタム ディメンション 新しいカスタム ディメンション &gt; カスタム ディメンションを編集 &gt; 保存 保存するとdimension1という変数がAnalyticsに設定されます。
PHPを使って、blogが参照された時のIPを取得する このblogにはGhostを動かすための最小の設定しかしていなかったので、まずはNginx上でPHPが動く環境を整えます。
# yum -y install php php-fpm  次に、事前に用意したdomainをバーチャルホスト(VH)に割り振り、そのVHに対してPHPが動くように設定します。
/etc/nginx/conf.d/php.conf
```` server { listen 80; server_name ga.10rane.com;
location / { root /var/www/html; index index.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2014/05/08/change-to-ghost-from-octopress/" class="link black dim">
        blogをoctopressからghostに乗り換えました。
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      深い理由はないのですが、何となく乗り換えてみました。
また備忘がてらのんびり書いていきたいと思います。
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2013/05/10/octopress-clippit/" class="link black dim">
        Octopressのコードスニペットの設定
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Octopressの標準設定 rdiscountの場合、```で囲う。色は付かない。
ls CHANGELOG.markdown Gemfile.lock Rakefile config.rb plugins sass Gemfile README.markdown _config.yml config.ru public source  scheme ``` schemeで囲う。自分はelispの場合などに使っている。
(defvar dvar 1 &quot;実験用&quot;) ;; -&gt; 1 (defvar dvar 2) ;; -&gt; 1 値が上書きされない (setq dvar 3) ;; -&gt; 3 defvar以外で宣言(代入)された場合は上書きされてしまう。  Js codeblock lang:jsで囲う。
class Animal constructor:(name) - @name = name say:(word) - console.log "#{@name} said: #{word}" class Dog extends Animal constructor:(name) - super name say:(word) - super "Bowwow, #{word}"
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Post</span>
    <h1 class="f3 near-black">
      <a href="http://tatsuyano.github.io/2013/05/09/octopress-install/" class="link black dim">
        octopressをインストールする
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Octopressとは github上にブログを構築できるruby製のフレームワーク。
インストール 複数PCで更新したいので、Dropbox上にインストール。手順は公式サイトと同じです。
事前にrbenvかRVMでruby1.9.3以上をインストールしておいてください。
cd $HOME/Dropbox/ git clone git://github.com/imathis/octopress.git octopress cd octopress gem install bundler rbenv rehash bundle install  rake インストール時にエラー rakeをインストールしたさいにOctopressで使うバージョンが違うというエラーがでた。
rake install rake aborted! You have already activated rake 10.0.4, but your Gemfile requires rake 0.9.2.2. Using bundle exec may solve this.  gemのバージョンは、Gemfileに設定されているので、rakeのバージョンを 10.0 から 0.9に変更し、再度 rake install を行う
octopress/Gemfile
source &quot;http://rubygems.org&quot; group :development do gem 'rake', '~&gt; 0.9' # 10.0 -&gt; 0.9 gem 'jekyll', '~&gt; 0.
    </div>
  </div>
</div>

        </div>
      
    </section>
  </div>

    </main>
    <footer class="bg-near-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://tatsuyano.github.io" >
    &copy; 2017 blog.10rane.com
  </a>
  






  </div>
</footer>

    <script src="http://tatsuyano.github.io/dist/app.bundle.js" async></script>

  </body>
</html>
