<!DOCTYPE html>
<html lang="ja">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>PackerでVirtualBoxのboxを作る -- blog.10rane.com</title>

    

    
    <link href="http://localhost:1313//css/bootstrap.min.css" rel="stylesheet">

    
    <link href="http://localhost:1313//css/clean-blog.min.css" rel="stylesheet">

    
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    
    
    

</head>

<body>

    
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://localhost:1313/">blog.10rane.com</a>
            </div>

                       
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    
                    <li>
                        <a href="http://localhost:1313/">home</a>
                    </li>
                    
                    <li>
                        <a href="http://localhost:1313/post/">Archives</a>
                    </li>
                    
                  </ul>
            </div>
           

        </div>
        
    </nav>


    
    
    <header class="intro-header" style="background-image: url('http://localhost:1313///img/about-bg.jpg')">
      
      <div class="container">
        <div class="row">
           <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
             <div class="post-heading">
               <h1>PackerでVirtualBoxのboxを作る</h1>
               <h2 class="subheading"></h2>
               <span class="meta">Posted by <a href="#">Tatsuyano</a> on Sat, Aug 15, 2015
                 <br />
                 In 

                 <br />
                 Tags <a href="http://localhost:1313/tags/middleware" >middleware</a> <a href="http://localhost:1313/tags/vagrant" >vagrant</a> 

               </span>
             </div>
           </div>
        </div>
      </div>
    </header>

    
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                  

<ol>
<li>VirtualBoxのインストール</li>
<li>Vagrantのインストール</li>
<li>boxの追加</li>
</ol>

<h3 id="atlas上にあるboxを追加:499a7510304a139898652375619f51e7">Atlas上にあるboxを追加</h3>

<p>e.g. <a href="https://atlas.hashicorp.com/chef/boxes/centos-6.6/versions/1.0.0">chef/centos-6.6 </a>を追加
vagrant init chef/centos-6.6;
vagrant up &ndash;provider virtualbox;</p>

<h3 id="コマンド一覧:499a7510304a139898652375619f51e7">コマンド一覧</h3>

<ul>
<li>boxの一覧   vagrant box list</li>
<li>boxの削除   vagrant box remove box名</li>
<li>boxの初期化 vagrant init box名</li>
<li>boxの起動   vagrant up</li>
<li>boxにssh    vagrant ssh
boxを再package vagrant package</li>
</ul>

<hr />

<p>[o] hashicorpのboxをdownload(vagrant)
[o] 構築後の状態を再度box化テスト
[ ] boxに必要な環境をiamaeで構築</p>

<hr />

<h2 id="fix:499a7510304a139898652375619f51e7">FIX</h2>

<ul>
<li><a href="http://qiita.com/t_cyrill/items/ef9cb2b615bfb326f79c">Vagrantのboxに少しだけ手を加えたものをboxとして取っておきたい</a></li>

<li><p><a href="http://nori3tsu.hatenablog.com/entry/2013/12/28/231257">Vagrantのbox名を変更する</a></p></li>

<li><p><a href="http://shindolog.hatenablog.com/entry/2013/04/15/235731">Vagrant のコマンドをメモしておく</a></p></li>

<li><p><a href="http://techlife.cookpad.com/entry/2015/05/12/080000">クックパッドのサーバプロビジョニング事情</a></p></li>
</ul>

<hr />

<ul>
<li><a href="http://qiita.com/hnakamur/items/da0ed14192a18405f704">OSXでpackerでCentOS6.4のVirtualBox VMを作成する</a></li>

<li><p><a href="http://qiita.com/ryurock/items/28690f2b1553601d684d">PackerでVagrant用のBoxを作成したときのメモ</a></p></li>

<li><p><a href="http://d.hatena.ne.jp/akishin999/20140321/1395412364">Packer で Vagrant の Box を作る</a></p></li>

<li><p><a href="http://momijiame.tumblr.com/post/80171332872/packer-%E3%81%A7-vagrant-%E3%81%AE-base-box-%E3%82%92%E4%BD%9C%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B">Packer で Vagrant の Base Box を作ってみる</a></p></li>

<li><p><a href="http://kan3aa.hatenablog.com/entry/2015/05/29/120212">CentOS7.1にてVagrant Base Boxを作成する</a></p></li>

<li><p><a href="http://niku.name/articles/Packer%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6Vagrant%E3%81%AEBox%E3%82%92%E4%BD%9C%E3%82%8B%E6%96%B9%E6%B3%95%E3%82%92%E4%B8%80%E3%81%A4%E3%81%9A%E3%81%A4%E8%AA%AC%E6%98%8E%E3%81%99%E3%82%8B/index">Packerを使ってVagrantのBoxを作る方法を一つずつ説明する</a></p></li>

<li><p><a href="http://www.task-notes.com/entry/20150619/1434682800">Packerを使用してVirtualBoxの仮想マシンからVagrantのBoxを作成する</a></p></li>

<li><p><a href="https://www.packer.io/">Packer</a></p></li>

<li><p><a href="https://www.packer.io/docs/builders/virtualbox-iso.html">VIRTUALBOX BUILDER (FROM AN ISO)</a></p></li>

<li><p><a href="https://github.com/chef/bento">chef/bento</a></p></li>

<li><p><a href="https://atlas.hashicorp.com/">ATLAS</a></p></li>
</ul>

<h2 id="一時的:499a7510304a139898652375619f51e7">一時的</h2>

<ul>
<li><a href="http://yukithm.blogspot.jp/2014/04/vagrant-packer.html">PackerでVagrantのboxを作成</a>
vagrant box add CentOS-6.5-x86_64 ../builds/virtualbox/opscode_centos-6.5_chef-latest.box</li>
</ul>

<hr />

<p><a href="http://yuitang.hatenablog.com/entry/2014/08/11/182536">http://yuitang.hatenablog.com/entry/2014/08/11/182536</a>
<a href="https://github.com/INSANEWORKS/centos-packer">https://github.com/INSANEWORKS/centos-packer</a>
<a href="https://atlas.hashicorp.com/chef/boxes/centos-6.6">https://atlas.hashicorp.com/chef/boxes/centos-6.6</a>
<a href="http://pocketstudio.jp/log3/2014/12/10/what_is_atlas/">http://pocketstudio.jp/log3/2014/12/10/what_is_atlas/</a></p>

<hr />

<p>[webadm@knowb ~]$ df -h
Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/VolGroup-lv_root
94G  3.8G   86G   5% /
tmpfs                 1.9G     0  1.9G   0% /dev/shm
/dev/sda1             477M   64M  389M  14% /boot</p>

<p>[webadm@knowb ~]$ uname -a
Linux knowb.me 2.6.32-504.16.2.el6.x86_64 #1 SMP Wed Apr 22 06:48:29 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux</p>

<p>[webadm@knowb ~]$ cat /etc/redhat-release
CentOS release 6.6 (Final)</p>

<p>[webadm@knowb ~]$ httpd -v
Server version: Apache/2.2.15 (Unix)
Server built:   Oct 16 2014 14:48:21</p>

<p>[webadm@knowb ~]$ mysql &ndash;version
mysql  Ver 14.14 Distrib 5.6.24, for Linux (x86_64) using  EditLine wrapper</p>

<p>[webadm@knowb ~]$ cat /proc/cpuinfo | grep &lsquo;model name&rsquo;
model name      : Intel&reg; Xeon&reg; CPU E5-4620 0 @ 2.20GHz x4</p>

<p>[webadm@knowb ~]$ cat /proc/meminfo | egrep &lsquo;MemTotal|MemFree&rsquo;
MemTotal:        3924328 kB
MemFree:         1014152 kB</p>

                </div>
            </div>
        </div>
    </article>

    <hr>
    
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                  <ul class="list-inline text-center">
                    <li>
                      <a href="mailto:">
                        <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
                        </span>
                      </a>
                    </li>
                    
                    <li>
                      <a href="https://github.com/tatsuyano">
                        <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                        </span>
                      </a>
                    </li>
                    
                  </ul>
                  <p class="copyright text-muted"></p>
                </div>
            </div>
        </div>
    </footer>

    
    <script src="http://localhost:1313//js/jquery.min.js"></script>

    
    <script src="http://localhost:1313//js/bootstrap.min.js"></script>

    
    <script src="http://localhost:1313//js/clean-blog.js"></script>

    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-53372032-1', 'auto');
  ga('send', 'pageview');
</script>


</body>

</html>

